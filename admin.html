<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel | Moteros Sports Line</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body>
    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- LOGIN SCREEN -->
    <div id="loginScreen" class="login-wrapper">
        <div class="login-card">
            <div class="login-logo">üèçÔ∏è</div>
            <h1>Admin Panel</h1>
            <p class="subtitle">Moteros Sports Line</p>
            <input type="password" id="adminPassword" class="login-input" placeholder="Ingresa la contrase√±a">
            <button onclick="loginAdmin()" class="login-btn">Iniciar Sesi√≥n</button>
            <p id="loginError" class="login-error"></p>
        </div>
    </div>

    <!-- ADMIN PANEL -->
    <div id="adminPanel" style="display:none;">
        <!-- Mobile Header -->
        <div class="mobile-header">
            <button onclick="toggleSidebar()">‚ò∞</button>
            <span style="font-weight:600;">Moteros Admin</span>
            <button onclick="logout()">üö™</button>
        </div>

        <!-- Overlay -->
        <div class="sidebar-overlay" onclick="toggleSidebar()"></div>

        <div class="admin-layout">
            <!-- Sidebar -->
            <aside class="sidebar" id="sidebar">
                <div class="sidebar-logo">
                    <div class="logo-placeholder">üèçÔ∏è</div>
                    <span>Moteros Admin</span>
                </div>

                <nav class="sidebar-nav">
                    <button class="nav-item active" data-section="dashboard">
                        <span class="icon">üìä</span> Dashboard
                    </button>
                    <button class="nav-item" data-section="estadisticas">
                        <span class="icon">üìà</span> Estad√≠sticas
                    </button>
                    <button class="nav-item" data-section="productos">
                        <span class="icon">üì¶</span> Productos
                    </button>
                    <button class="nav-item" data-section="destacados">
                        <span class="icon">‚≠ê</span> Destacados
                    </button>
                    <button class="nav-item" data-section="ventas">
                        <span class="icon">üí∞</span> Ventas
                    </button>
                    <button class="nav-item" data-section="inventario">
                        <span class="icon">üìã</span> Inventario
                    </button>
                    <button class="nav-item" data-section="alertas">
                        <span class="icon">‚ö†Ô∏è</span> Alertas Stock
                    </button>
                    
                    <div class="nav-divider"></div>
                    
                    <button class="nav-item" data-section="promociones">
                        <span class="icon">üè∑Ô∏è</span> Promociones
                    </button>
                    <button class="nav-item" data-section="blog">
                        <span class="icon">üìù</span> Blog
                    </button>
                    
                    <div class="nav-divider"></div>
                    
                    <button class="nav-item" data-section="configuracion">
                        <span class="icon">‚öôÔ∏è</span> Configuraci√≥n
                    </button>
                </nav>

                <div class="sidebar-footer">
                    <button class="logout-btn" onclick="logout()">
                        üö™ Cerrar Sesi√≥n
                    </button>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="main-content">
                
                <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DASHBOARD ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
                <section id="dashboardSection" class="section active">
                    <div class="page-header">
                        <h1>Dashboard</h1>
                        <p>Resumen general del sistema</p>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon orange">üì¶</div>
                            <div class="stat-info">
                                <h3 id="statProductos">-</h3>
                                <p>Productos Activos</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon green">üìä</div>
                            <div class="stat-info">
                                <h3 id="statStockTotal">-</h3>
                                <p>Stock Total</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon yellow">‚ö†Ô∏è</div>
                            <div class="stat-info">
                                <h3 id="statStockBajo">-</h3>
                                <p>Stock Bajo</p>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon red">‚ùå</div>
                            <div class="stat-info">
                                <h3 id="statAgotados">-</h3>
                                <p>Agotados</p>
                            </div>
                        </div>
                    </div>

                    <div class="charts-grid">
                        <div class="card">
                            <div class="card-header"><h3>üìä Stock por Local</h3></div>
                            <div class="card-body"><canvas id="chartStockLocales"></canvas></div>
                        </div>
                        <div class="card">
                            <div class="card-header"><h3>üì¶ Productos por Categor√≠a</h3></div>
                            <div class="card-body"><canvas id="chartCategorias"></canvas></div>
                        </div>
                    </div>
                </section>

                <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ESTAD√çSTICAS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
                <section id="estadisticasSection" class="section">
                    <div class="page-header">
                        <h1>Estad√≠sticas por Local</h1>
                        <p>An√°lisis detallado del inventario por sede</p>
                    </div>

                    <div class="stats-grid" style="margin-bottom:2rem;">
                        <div class="stat-card"><div class="stat-icon blue">üè∑Ô∏è</div><div class="stat-info"><h3 id="totalProductosGlobal">-</h3><p>Productos en Cat√°logo</p></div></div>
                        <div class="stat-card"><div class="stat-icon green">üì¶</div><div class="stat-info"><h3 id="totalUnidadesGlobal">-</h3><p>Unidades Totales</p></div></div>
                        <div class="stat-card"><div class="stat-icon orange">üí∞</div><div class="stat-info"><h3 id="valorInventarioGlobal">-</h3><p>Valor Inventario</p></div></div>
                        <div class="stat-card"><div class="stat-icon red">üö®</div><div class="stat-info"><h3 id="alertasGlobal">-</h3><p>Alertas Activas</p></div></div>
                    </div>

                    <div class="locales-grid" id="localesStatsGrid">
                        <div class="loading"><div class="spinner"></div><p>Cargando...</p></div>
                    </div>

                    <div class="card" style="margin-top:2rem;">
                        <div class="card-header"><h3>üìä Tabla Comparativa</h3></div>
                        <div class="card-body">
                            <div class="table-container">
                                <table class="data-table">
                                    <thead><tr><th>Local</th><th>Stock Total</th><th>Productos</th><th>Stock Bajo</th><th>Agotados</th><th>Valor Est.</th></tr></thead>
                                    <tbody id="tbodyComparativa"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PRODUCTOS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
                <section id="productosSection" class="section">
                    <div class="page-header">
                        <h1>Gesti√≥n de Productos</h1>
                        <p>Administra el cat√°logo de productos</p>
                    </div>

                    <div class="actions-bar">
                        <button onclick="mostrarFormProducto()" class="btn btn-primary">‚ûï Nuevo Producto</button>
                        <button onclick="cargarProductos()" class="btn btn-secondary">üîÑ Recargar</button>
                        <div class="search-input">
                            <input type="text" id="buscarProductoAdmin" placeholder="Buscar producto..." oninput="filtrarProductosAdmin()">
                        </div>
                    </div>

                    <div id="formProducto" class="form-modal">
                        <h3 id="formTituloProducto">‚ûï Nuevo Producto</h3>
                        <input type="hidden" id="productoId">
                        
                        <div class="dropzone" id="dropzoneProducto" onclick="document.getElementById('fileInputProducto').click()">
                            <div class="dropzone-icon">üì∏</div>
                            <div class="dropzone-text">Arrastra una imagen aqu√≠</div>
                            <div class="dropzone-subtext">o haz clic para seleccionar (JPG, PNG, WebP - Max 5MB)</div>
                            <input type="file" id="fileInputProducto" accept="image/*" style="display:none;" onchange="handleFileSelect(event, 'producto')">
                            <div class="preview-container" id="previewContainerProducto" style="display:none;">
                                <img id="previewProducto" class="preview-image">
                                <button class="remove-preview" onclick="event.stopPropagation(); removerPreview('producto')">√ó</button>
                            </div>
                        </div>
                        <div class="upload-progress" id="uploadProgressProducto">
                            <div class="progress-bar"><div class="progress-fill" id="progressFillProducto" style="width:0%"></div></div>
                            <div class="progress-text">Subiendo imagen...</div>
                        </div>

                        <div class="form-row">
                            <div class="form-group"><label>Nombre <span class="required">*</span></label><input type="text" id="productoNombre" class="form-control" placeholder="Nombre del producto"></div>
                            <div class="form-group"><label>Referencia</label><input type="text" id="productoReferencia" class="form-control" placeholder="REF-001"></div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Categor√≠a <span class="required">*</span></label>
                                <select id="productoCategoria" class="form-control">
                                    <option value="">Seleccionar...</option>
                                    <option value="Cascos">Cascos</option>
                                    <option value="Guantes">Guantes</option>
                                    <option value="Chaquetas">Chaquetas</option>
                                    <option value="Botas">Botas</option>
                                    <option value="Maleteros">Maleteros</option>
                                    <option value="Impermeables">Impermeables</option>
                                    <option value="Intercomunicadores">Intercomunicadores</option>
                                    <option value="Camaras">C√°maras</option>
                                    <option value="Accesorios">Accesorios</option>
                                    <option value="Protecciones">Protecciones</option>
                                </select>
                            </div>
                            <div class="form-group"><label>Marca <span class="required">*</span></label><input type="text" id="productoMarca" class="form-control" placeholder="Marca"></div>
                        </div>
                        <div class="form-row">
                            <div class="form-group"><label>Precio <span class="required">*</span></label><input type="number" id="productoPrecio" class="form-control" placeholder="0" min="0"></div>
                            <div class="form-group">
                                <label>Estado</label>
                                <select id="productoEstado" class="form-control">
                                    <option value="Activo">Activo</option>
                                    <option value="Inactivo">Inactivo</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group"><label>Descripci√≥n corta</label><textarea id="productoDescCorta" class="form-control" rows="2" placeholder="Descripci√≥n breve"></textarea></div>
                        <div class="form-group"><label>Descripci√≥n t√©cnica</label><textarea id="productoDescTecnica" class="form-control" rows="3" placeholder="Caracter√≠sticas t√©cnicas"></textarea></div>
                        <div class="form-group"><label>URL Imagen (alternativa)</label><input type="url" id="productoImagen" class="form-control" placeholder="https://..."><p class="form-hint">Si no subes imagen, puedes pegar una URL directa</p></div>
                        <div style="display:flex; gap:1rem; margin-top:1.5rem;">
                            <button onclick="guardarProducto()" class="btn btn-success">üíæ Guardar</button>
                            <button onclick="cancelarFormProducto()" class="btn btn-secondary">Cancelar</button>
                        </div>
                    </div>

                    <div id="listaProductos" class="productos-admin-grid">
                        <div class="loading"><div class="spinner"></div><p>Cargando productos...</p></div>
                    </div>
                </section>

                <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DESTACADOS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
                <section id="destacadosSection" class="section">
                    <div class="page-header">
                        <h1>‚≠ê Productos Destacados</h1>
                        <p>Selecciona los productos que aparecer√°n en la p√°gina de inicio</p>
                    </div>

                    <div class="destacados-info">
                        <span class="destacados-info-icon">üí°</span>
                        <div class="destacados-info-text">
                            <h4>¬øC√≥mo funciona?</h4>
                            <p>Selecciona hasta <strong>8 productos</strong> del panel izquierdo. Los clientes podr√°n agregarlos al carrito con un clic desde el inicio.</p>
                        </div>
                    </div>

                    <div class="actions-bar">
                        <button onclick="cargarDestacadosAdmin()" class="btn btn-secondary">üîÑ Recargar</button>
                        <span id="contadorDestacados" style="margin-left: auto; font-weight: 600; color: var(--gray-600);"></span>
                    </div>

                    <div class="destacados-layout">
                        <div class="destacados-panel">
                            <div class="destacados-panel-header">
                                <h3>üì¶ Productos Disponibles</h3>
                                <span class="contador" id="contadorDisponibles">0</span>
                            </div>
                            <div class="destacados-search">
                                <input type="text" id="buscarDestacado" placeholder="üîç Buscar producto..." oninput="filtrarProductosDestacados()">
                            </div>
                            <div class="destacados-panel-body" id="listaProductosDisponibles">
                                <div class="loading"><div class="spinner"></div><p>Cargando...</p></div>
                            </div>
                        </div>

                        <div class="destacados-panel" style="border: 2px solid var(--primary);">
                            <div class="destacados-panel-header" style="background: linear-gradient(135deg, #fff7ed, #ffedd5);">
                                <h3 style="color: var(--primary);">‚≠ê Destacados Activos</h3>
                                <span class="contador" id="contadorActivos">0 / 8</span>
                            </div>
                            <div class="destacados-panel-body" id="listaDestacadosActivos">
                                <div class="destacados-empty">
                                    <div class="destacados-empty-icon">‚≠ê</div>
                                    <h4>Sin productos destacados</h4>
                                    <p>Haz clic en "Agregar" en un producto del panel izquierdo</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="destacados-preview">
                        <h4>üëÅÔ∏è Vista previa del inicio</h4>
                        <div class="destacados-preview-grid" id="previewDestacados">
                            <p style="color: var(--gray-400); grid-column: 1/-1; text-align: center;">Los productos destacados aparecer√°n aqu√≠</p>
                        </div>
                    </div>
                </section>

                <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê VENTAS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
                <section id="ventasSection" class="section">
                    <div class="page-header">
                        <h1>Gesti√≥n de Ventas</h1>
                        <p>Acceso a puntos de venta y reportes en tiempo real</p>
                    </div>

                    <div class="pos-grid">
                        <div class="pos-card"><div class="pos-icon">üè™</div><h3>Tienda Alcal√°</h3><p>Registro de ventas y control de caja</p><a href="tienda-alcala.html" target="_blank" class="btn btn-primary btn-lg">Abrir POS Alcal√°</a></div>
                        <div class="pos-card"><div class="pos-icon">üè¨</div><h3>Tienda Local 01</h3><p>Registro de ventas y control de caja</p><a href="tienda-01.html" target="_blank" class="btn btn-success btn-lg">Abrir POS Local 01</a></div>
                        <div class="pos-card"><div class="pos-icon">üè¢</div><h3>Tienda Jord√°n</h3><p>Registro de ventas y control de caja</p><a href="tienda-jordan.html" target="_blank" class="btn btn-info btn-lg">Abrir POS Jord√°n</a></div>
                    </div>

                    <div class="card" style="margin-top:2rem;">
                        <div class="card-header">
                            <h3>üìä Ventas del D√≠a</h3>
                            <div><span id="fechaHoy" style="color:var(--gray-500); margin-right:1rem;"></span><button onclick="exportarVentasDia()" class="btn btn-secondary btn-sm">üì• Exportar CSV</button></div>
                        </div>
                        <div class="card-body">
                            <div class="stats-grid" id="ventasDiaStats"><div class="loading"><div class="spinner"></div><p>Cargando ventas...</p></div></div>
                            <div class="charts-grid" style="margin-top:2rem;">
                                <div class="card"><div class="card-header"><h4>üí≥ Por M√©todo de Pago</h4></div><div class="card-body"><canvas id="chartMetodosPago"></canvas></div></div>
                                <div class="card"><div class="card-header"><h4>üè™ Por Local</h4></div><div class="card-body"><canvas id="chartVentasLocales"></canvas></div></div>
                            </div>
                            <div class="table-container" style="margin-top:2rem;">
                                <table class="data-table">
                                    <thead><tr><th>Hora</th><th>Local</th><th>Producto</th><th>Cant.</th><th>Total</th><th>M√©todo</th></tr></thead>
                                    <tbody id="tbodyVentasDia"></tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê INVENTARIO ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
                <section id="inventarioSection" class="section">
                    <div class="page-header"><h1>Gesti√≥n de Inventario</h1><p>Controla el stock de cada local</p></div>
                    <div class="actions-bar">
                        <select id="inventarioLocal" class="form-control" style="max-width:300px;" onchange="cargarInventarioLocal()">
                            <option value="">-- Seleccionar Local --</option>
                            <option value="inventario_alcala">üè™ Alcal√°</option>
                            <option value="inventario_01">üè¨ Local 01</option>
                            <option value="inventario_jordan">üè¢ Jord√°n</option>
                        </select>
                        <button onclick="cargarInventarioLocal()" class="btn btn-secondary">üîÑ Recargar</button>
                        <button onclick="exportarInventario()" class="btn btn-primary">üì• Exportar CSV</button>
                    </div>
                    <div id="contenidoInventario" class="card"><div class="card-body"><div class="alert alert-info">üëÜ Selecciona un local para ver su inventario</div></div></div>
                </section>

                <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ALERTAS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
                <section id="alertasSection" class="section">
                    <div class="page-header"><h1>Alertas de Stock</h1><p>Productos que requieren atenci√≥n</p></div>
                    <div class="actions-bar"><button onclick="cargarAlertasStock()" class="btn btn-secondary">üîÑ Actualizar</button></div>
                    <div id="contenidoAlertas" class="card"><div class="card-body"><div class="loading"><div class="spinner"></div><p>Cargando alertas...</p></div></div></div>
                </section>

                <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PROMOCIONES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
                <section id="promocionesSection" class="section">
                    <div class="page-header"><h1>Gesti√≥n de Promociones</h1><p>Administra ofertas y descuentos</p></div>
                    <div class="actions-bar">
                        <button onclick="mostrarFormPromocion()" class="btn btn-primary">‚ûï Nueva Promoci√≥n</button>
                        <button onclick="cargarPromociones()" class="btn btn-secondary">üîÑ Recargar</button>
                    </div>

                    <!-- Formulario Promoci√≥n con Selector Visual -->
                    <div id="formPromocion" class="form-modal">
                        <h3 id="formTituloPromocion">‚ûï Nueva Promoci√≥n</h3>
                        <input type="hidden" id="promocionIdOriginal">
                        
                        <div class="form-row">
                            <div class="form-group"><label>ID Promoci√≥n <span class="required">*</span></label><input type="text" id="promocionId" class="form-control" placeholder="PROMO06"></div>
                            <div class="form-group"><label>Nombre <span class="required">*</span></label><input type="text" id="promocionNombre" class="form-control" placeholder="Nombre de la promoci√≥n"></div>
                        </div>
                        <div class="form-row">
                            <div class="form-group"><label>Descuento (%) <span class="required">*</span></label><input type="number" id="promocionDescuento" class="form-control" placeholder="20" min="1" max="100"></div>
                            <div class="form-group"><label>Locales Aplicables</label><input type="text" id="promocionLocales" class="form-control" placeholder="Todos"><p class="form-hint">Deja vac√≠o para "Todos"</p></div>
                        </div>

                        <!-- üî• SELECTOR VISUAL DE PRODUCTOS -->
                        <div class="form-group">
                            <label>Productos Incluidos <span class="required">*</span><span id="contadorProductosPromo" style="margin-left: 10px; color: var(--primary); font-weight: 600;">0 seleccionados</span></label>
                            <div style="position: relative; margin-bottom: 10px;">
                                <input type="text" id="buscarProductoPromo" class="form-control" placeholder="üîç Buscar por nombre, marca o categor√≠a..." oninput="filtrarProductosPromo()">
                            </div>
                            <div id="productosSeleccionadosPromo" class="productos-seleccionados-container" style="display: none;">
                                <div class="productos-seleccionados-header">
                                    <strong>‚úì Productos en esta promoci√≥n:</strong>
                                    <button type="button" onclick="limpiarSeleccionPromo()" class="btn btn-secondary btn-sm">üóëÔ∏è Limpiar todo</button>
                                </div>
                                <div id="listaProductosSeleccionados" class="productos-seleccionados-lista"></div>
                            </div>
                            <div class="selector-productos-promo">
                                <div class="selector-productos-header"><span>Haz clic en un producto para agregarlo:</span></div>
                                <div id="listaProductosPromo" class="productos-promo-grid"><div class="loading"><div class="spinner"></div><p>Cargando productos...</p></div></div>
                            </div>
                            <input type="hidden" id="promocionProductos">
                            <p class="form-hint">üí° Los IDs se guardan autom√°ticamente cuando seleccionas productos</p>
                        </div>

                        <div class="form-row">
                            <div class="form-group"><label>Fecha Inicio</label><input type="text" id="promocionInicio" class="form-control" placeholder="DD/MM/AAAA"></div>
                            <div class="form-group"><label>Fecha Fin</label><input type="text" id="promocionFin" class="form-control" placeholder="DD/MM/AAAA"></div>
                        </div>
                        <div class="form-group">
                            <label>Estado</label>
                            <select id="promocionEstado" class="form-control">
                                <option value="Activa">Activa</option>
                                <option value="Inactiva">Inactiva</option>
                                <option value="Finalizada">Finalizada</option>
                            </select>
                        </div>
                        <div style="display:flex; gap:1rem; margin-top:1.5rem;">
                            <button onclick="guardarPromocion()" class="btn btn-success">üíæ Guardar</button>
                            <button onclick="cancelarFormPromocion()" class="btn btn-secondary">Cancelar</button>
                        </div>
                    </div>

                    <div id="listaPromociones"><div class="loading"><div class="spinner"></div><p>Cargando promociones...</p></div></div>
                </section>

                <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BLOG ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
                <section id="blogSection" class="section">
                    <div class="page-header"><h1>Gesti√≥n del Blog</h1><p>Publica contenido y noticias</p></div>
                    <div class="actions-bar">
                        <button onclick="mostrarFormPost()" class="btn btn-primary">‚ûï Nueva Publicaci√≥n</button>
                        <button onclick="cargarPosts()" class="btn btn-secondary">üîÑ Recargar</button>
                    </div>

                    <div id="formPost" class="form-modal">
                        <h3 id="formTituloPost">‚ûï Nueva Publicaci√≥n</h3>
                        <input type="hidden" id="postId">
                        <div class="dropzone" id="dropzonePost" onclick="document.getElementById('fileInputPost').click()">
                            <div class="dropzone-icon">üñºÔ∏è</div>
                            <div class="dropzone-text">Imagen del post</div>
                            <div class="dropzone-subtext">Arrastra o haz clic para seleccionar</div>
                            <input type="file" id="fileInputPost" accept="image/*" style="display:none;" onchange="handleFileSelect(event, 'post')">
                            <div class="preview-container" id="previewContainerPost" style="display:none;">
                                <img id="previewPost" class="preview-image">
                                <button class="remove-preview" onclick="event.stopPropagation(); removerPreview('post')">√ó</button>
                            </div>
                        </div>
                        <div class="upload-progress" id="uploadProgressPost"><div class="progress-bar"><div class="progress-fill" id="progressFillPost" style="width:0%"></div></div><div class="progress-text">Subiendo imagen...</div></div>
                        <div class="form-group"><label>T√≠tulo <span class="required">*</span></label><input type="text" id="postTitulo" class="form-control" placeholder="T√≠tulo del post"></div>
                        <div class="form-group"><label>Contenido <span class="required">*</span></label><textarea id="postContenido" class="form-control" rows="6" placeholder="Escribe el contenido..."></textarea></div>
                        <div class="form-group"><label>URL Imagen (alternativa)</label><input type="url" id="postImagenUrl" class="form-control" placeholder="https://..."></div>
                        <div class="form-group"><label>Video (URL TikTok/YouTube)</label><input type="url" id="postVideo" class="form-control" placeholder="https://www.tiktok.com/@usuario/video/123"><p class="form-hint">Pega la URL completa del video</p></div>
                        <div style="display:flex; gap:1rem; margin-top:1.5rem;">
                            <button onclick="guardarPost()" class="btn btn-success">üíæ Publicar</button>
                            <button onclick="cancelarFormPost()" class="btn btn-secondary">Cancelar</button>
                        </div>
                    </div>

                    <div id="listaPosts" class="productos-admin-grid"><div class="loading"><div class="spinner"></div><p>Cargando publicaciones...</p></div></div>
                </section>

                <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CONFIGURACI√ìN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
                <section id="configuracionSection" class="section">
                    <div class="page-header"><h1>Configuraci√≥n</h1><p>Ajustes generales del sistema</p></div>
                    <div class="config-grid">
                        <div class="config-card">
                            <h4>üñºÔ∏è Branding</h4>
                            <div class="dropzone" id="dropzoneLogo" onclick="document.getElementById('fileInputLogo').click()" style="padding:1.5rem;">
                                <div class="dropzone-icon" style="font-size:2rem;">üèçÔ∏è</div>
                                <div class="dropzone-text">Logo de la empresa</div>
                                <input type="file" id="fileInputLogo" accept="image/*" style="display:none;" onchange="handleFileSelect(event, 'logo')">
                                <div class="preview-container" id="previewContainerLogo" style="display:none;">
                                    <img id="previewLogo" class="preview-image" style="max-height:100px;">
                                    <button class="remove-preview" onclick="event.stopPropagation(); removerPreview('logo')">√ó</button>
                                </div>
                            </div>
                            <div class="form-group"><label>O URL del Logo</label><input type="url" id="configLogo" class="form-control" placeholder="https://..."></div>
                            <div class="form-group"><label>Nombre de la Tienda</label><input type="text" id="configNombre" class="form-control" placeholder="Moteros Sports Line"></div>
                            <div class="form-group"><label>Slogan</label><input type="text" id="configSlogan" class="form-control" placeholder="Tu estilo, tu pasi√≥n"></div>
                            <div class="form-group"><label>Color Principal</label><div class="color-picker-group"><input type="color" id="configColor" value="#ff6b00" class="color-preview"><span style="color:var(--gray-500); font-size:0.9rem;">Color de marca</span></div></div>
                        </div>
                        <div class="config-card">
                            <h4>üì± Redes Sociales</h4>
                            <div class="form-group"><label>WhatsApp (con c√≥digo pa√≠s)</label><input type="text" id="configWhatsapp" class="form-control" placeholder="573113408416"></div>
                            <div class="form-group"><label>Facebook</label><input type="url" id="configFacebook" class="form-control" placeholder="https://facebook.com/..."></div>
                            <div class="form-group"><label>Instagram</label><input type="url" id="configInstagram" class="form-control" placeholder="https://instagram.com/..."></div>
                            <div class="form-group"><label>TikTok</label><input type="url" id="configTiktok" class="form-control" placeholder="https://tiktok.com/..."></div>
                        </div>
                        <div class="config-card">
                            <h4>üìß Contacto</h4>
                            <div class="form-group"><label>Email principal</label><input type="email" id="configEmail" class="form-control" placeholder="contacto@moteros.com"></div>
                            <div class="form-group"><label>Tel√©fono</label><input type="text" id="configTelefono" class="form-control" placeholder="3113408416"></div>
                            <div class="form-group"><label>Direcci√≥n principal</label><input type="text" id="configDireccion" class="form-control" placeholder="Calle 123 #45-67"></div>
                        </div>
                        <div class="config-card">
                            <h4>‚öôÔ∏è Sistema</h4>
                            <div class="form-group"><label>Stock m√≠nimo por defecto</label><input type="number" id="configStockMinimo" class="form-control" placeholder="5" min="1"></div>
                            <div class="form-group"><label>Moneda</label><select id="configMoneda" class="form-control"><option value="COP">COP - Peso Colombiano</option><option value="USD">USD - D√≥lar</option></select></div>
                        </div>
                    </div>
                    <div style="margin-top:2rem;"><button onclick="guardarConfiguracion()" class="btn btn-success btn-lg">üíæ Guardar Configuraci√≥n</button></div>
                </section>

            </main>
        </div>
    </div>

    <script src="js/config.js"></script>
    <script src="js/admin.js"></script>
</body>
</html>